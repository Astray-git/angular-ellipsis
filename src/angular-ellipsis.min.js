!function(i,n){"use strict";n.directive("ellipsis",["$timeout","$window",function(i,n){return{restrict:"A",scope:{ngBind:"=",ellipsisAppend:"@",ellipsisAppendClick:"&",ellipsisSymbol:"@"},compile:function(){return function(e,t,l){function s(){if("undefined"!=typeof e.ngBind){var i=e.ngBind.split(" "),n=0,s="undefined"!=typeof l.ellipsisSymbol?l.ellipsisSymbol:"&hellip;",p="undefined"!=typeof e.ellipsisAppend&&""!==e.ellipsisAppend?s+"<span>"+e.ellipsisAppend+"</span>":s;if(l.isTruncated=!1,t.html(e.ngBind),d(t)){var o=i.length,c=t[0].clientHeight;for(t.html(e.ngBind+p);o>n;n++)if(i.pop(),t.html(i.join(" ")+p),t[0].scrollHeight<c||d(t)===!1){l.isTruncated=!0;break}s!=p&&"undefined"!=typeof e.ellipsisAppendClick&&""!==e.ellipsisAppendClick&&t.find("span").bind("click",function(){e.$apply(e.ellipsisAppendClick)})}}}function d(i){return i[0].scrollHeight>i[0].clientHeight}l.lastWindowResizeTime=0,l.lastWindowResizeWidth=0,l.lastWindowResizeHeight=0,l.lastWindowTimeoutEvent=null,l.isTruncated=!1,e.$watch("ngBind",function(){s()}),e.$watch("ellipsisAppend",function(){s()}),angular.element(n).bind("resize",function(){i.cancel(l.lastWindowTimeoutEvent),l.lastWindowTimeoutEvent=i(function(){(l.lastWindowResizeWidth!=window.innerWidth||l.lastWindowResizeHeight!=window.innerHeight)&&s(),l.lastWindowResizeWidth=window.innerWidth,l.lastWindowResizeHeight=window.innerHeight},75)})}}}}])}(angular,exampleApp);